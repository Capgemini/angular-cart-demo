<navbar></navbar>

<div class="container">
  <div class="row">
    <form class="navbar-form navbar-left" role="search">
    <div class="input-group">
        <input type="text" class="form-control" placeholder="Search" name="search-text" id="search-text" ng-model="searchText">
        <div class="input-group-btn">
            <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
        </div>
    </div>
    </form>
  </div>
  <div class="row">
    <div ng-repeat="product in products.products | orderBy: 'name' | filter: searchText">
      <div class="col-xs-12 col-sm-6 col-md-4 product-box" ng-class="{'outOfStock': product.quantity == 0}">
        <div class="product-holder">
          <a href="#/products/{{product._id}}">
            <img class="front-icon" ng-src="{{product.images[0]}}" title="{{product.description}}"/>
            <!-- Product info: name and price -->
            <div class="product-details links row">
              <div class="col-xs-7 col-md-5">
                <p id='product-name' class='pull-left'>{{product.name}}</p>
              </div>  
              <div class="col-xs-3 col-md-3">
                <p id='product-price' class="pull-right">{{product.price | currency:"Â£"}}</p>
              </div>
              <div class="col-xs-3 col-md-3">  
                <p id="add-button" class="button-box pull-right">
                  <button class="btn btn-warning ng-click-active" ng-click='products.addToCart(product)' ng-disabled="product.quantity == 0" 
                  ng-show="!products.productInCart(product)">Add</button>
                  <button class="btn btn-success ng-click-active" ng-click='products.addToCart(product)' ng-disabled="product.quantity == 0" 
                  ng-show="products.productInCart(product)">Add</button>
                </p>
              </div>
            </div>
          </a>
          
        </div> <!-- end product-holder -->
      </div> <!-- end col -->
    </div> <!-- end ng-repeat -->
  </div> <!-- end row -->
</div>
